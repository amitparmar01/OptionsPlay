define(["jquery","knockout","modules/formatting","dataContext"],function(e,t,n,r){var i=function(){var e=this;this.activate=function(n){e.quote=t.unwrap(n.quote),e.quote.hasOptions===!0?(e.sellPrice5=e.quote.sellPrice5,e.sellPrice4=e.quote.sellPrice4,e.sellPrice3=e.quote.sellPrice3,e.sellPrice2=e.quote.sellPrice2,e.currentAskPrice=e.quote.currentAskPrice,e.currentBidPrice=e.quote.currentBidPrice,e.buyPrice2=e.quote.buyPrice2,e.buyPrice3=e.quote.buyPrice3,e.buyPrice4=e.quote.buyPrice4,e.buyPrice5=e.quote.buyPrice5,e.lastPrice=e.quote.lastPrice,e.openPrice=e.quote.openPrice,e.highPrice=e.quote.highPrice,e.lowPrice=e.quote.lowPrice,e.previousClose=e.quote.previousClose):(e.sellPrice5=e.quote.ask5,e.sellPrice4=e.quote.ask4,e.sellPrice3=e.quote.ask3,e.sellPrice2=e.quote.ask2,e.currentAskPrice=e.quote.ask,e.currentBidPrice=e.quote.bid,e.buyPrice2=e.quote.bid2,e.buyPrice3=e.quote.bid3,e.buyPrice4=e.quote.bid4,e.buyPrice5=e.quote.bid5,e.lastPrice=e.quote.latestTradedPrice,e.openPrice=e.quote.openingPrice,e.highPrice=e.quote.highestPrice,e.lowPrice=e.quote.lowestPrice,e.previousClose=e.quote.previousSettlementPrice),e.sellVolume1=e.quote.sellVolume1,e.sellVolume2=e.quote.sellVolume2,e.sellVolume3=e.quote.sellVolume3,e.sellVolume4=e.quote.sellVolume4,e.sellVolume5=e.quote.sellVolume5,e.askVolume=e.quote.askVolume,e.askVolume2=e.quote.askVolume2,e.askVolume3=e.quote.askVolume3,e.askVolume4=e.quote.askVolume4,e.askVolume5=e.quote.askVolume5,e.buyVolume1=e.quote.buyVolume1,e.buyVolume2=e.quote.buyVolume2,e.buyVolume3=e.quote.buyVolume3,e.buyVolume4=e.quote.buyVolume4,e.buyVolume5=e.quote.buyVolume5,e.bidVolume=e.quote.bidVolume,e.bidVolume2=e.quote.bidVolume2,e.bidVolume3=e.quote.bidVolume3,e.bidVolume4=e.quote.bidVolume4,e.bidVolume5=e.quote.bidVolume5,e.change=e.quote.change,e.volume=e.quote.volume,e.uncoveredPositionQuantity=e.quote.uncoveredPositionQuantity,e.changePercentage=e.quote.changePercentage,e.limitUp=e.quote.limitUpPrice||t.observable(0),e.limitDown=e.quote.limitDownPrice||t.observable(0),e.openInterest=t.observable(),e.code=e.quote.optionNumber||e.quote.securityCode,e.name=e.quote.name||e.quote.securityName,e.quote.optionNumber&&r.optionBasic.get(e.quote.optionNumber).done(function(t){e.limitUp(t.limitUpPrice),e.limitDown(t.limitDownPrice),e.openInterest(t.openInterest)})}};return i});